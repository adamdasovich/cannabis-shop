{"ast":null,"code":"import _regeneratorRuntime from\"C:/Projects/Travasy/proshop/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Projects/Travasy/proshop/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import{PRODUCT_LIST_FAIL,PRODUCT_LIST_SUCCESS,PRODUCT_LIST_REQUEST,PRODUCT_DETAILS_REQUEST,PRODUCT_DETAILS_SUCCESS,PRODUCT_DETAILS_FAIL}from\"../constants/productConstants\";var api=axios.create({baseURL:\"http://localhost:5000/api/products\"});export var listProducts=function listProducts(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var _yield$api$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:PRODUCT_LIST_REQUEST});_context.next=4;return api.get('/');case 4:_yield$api$get=_context.sent;data=_yield$api$get.data;console.log(data);dispatch({type:PRODUCT_LIST_SUCCESS,payload:data});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);dispatch({type:PRODUCT_LIST_FAIL,payload:_context.t0.response&&_context.t0.response.data.message?_context.t0.response.data.message:_context.t0.message});case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var listProductDetails=function listProductDetails(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var _yield$api$get2,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:PRODUCT_DETAILS_REQUEST});_context2.next=4;return api.get(\"/\".concat(id));case 4:_yield$api$get2=_context2.sent;data=_yield$api$get2.data;dispatch({type:PRODUCT_DETAILS_SUCCESS,payload:data});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);dispatch({type:PRODUCT_DETAILS_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.message});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","PRODUCT_LIST_FAIL","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_REQUEST","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","api","create","baseURL","listProducts","dispatch","type","get","data","console","log","payload","response","message","listProductDetails","id"],"sources":["C:/Projects/Travasy/proshop/frontend/src/actions/productActions.js"],"sourcesContent":["import axios from 'axios'\r\nimport {\r\n\tPRODUCT_LIST_FAIL,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DETAILS_FAIL\r\n} from \"../constants/productConstants\";\r\n\r\nconst api = axios.create({\r\n\tbaseURL: \"http://localhost:5000/api/products\"\r\n});\r\n\r\n\r\nexport const listProducts = () => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_LIST_REQUEST });\r\n\r\n\t\tconst { data } = await api.get('/');\r\n\t\tconsole.log(data)\r\n\r\n\t\tdispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_LIST_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DETAILS_REQUEST })\r\n\t\tconst { data } = await api.get(`/${id}`)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_SUCCESS,\r\n\t\t\tpayload: data\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message\r\n\t\t})\r\n\t}\r\n}\r\n"],"mappings":"oQAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OACCC,iBADD,CAECC,oBAFD,CAGCC,oBAHD,CAICC,uBAJD,CAKCC,uBALD,CAMCC,oBAND,KAOO,+BAPP,CASA,GAAMC,IAAG,CAAGP,KAAK,CAACQ,MAAN,CAAa,CACxBC,OAAO,CAAE,oCADe,CAAb,CAAZ,CAKA,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAe,oGAAM,iBAAOC,QAAP,4JAEhCA,QAAQ,CAAC,CAAEC,IAAI,CAAET,oBAAR,CAAD,CAAR,CAFgC,sBAITI,IAAG,CAACM,GAAJ,CAAQ,GAAR,CAJS,qCAIxBC,IAJwB,gBAIxBA,IAJwB,CAKhCC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAEAH,QAAQ,CAAC,CAAEC,IAAI,CAAEV,oBAAR,CAA8Be,OAAO,CAAEH,IAAvC,CAAD,CAAR,CAPgC,iFAUhCH,QAAQ,CAAC,CACRC,IAAI,CAAEX,iBADE,CAERgB,OAAO,CACN,YAAMC,QAAN,EAAkB,YAAMA,QAAN,CAAeJ,IAAf,CAAoBK,OAAtC,CACG,YAAMD,QAAN,CAAeJ,IAAf,CAAoBK,OADvB,CAEG,YAAMA,OALF,CAAD,CAAR,CAVgC,qEAAN,gEAArB,CAoBP,MAAO,IAAMC,mBAAkB,CAAG,QAArBA,mBAAqB,CAACC,EAAD,oGAAQ,kBAAOV,QAAP,kKAExCA,QAAQ,CAAC,CAAEC,IAAI,CAAER,uBAAR,CAAD,CAAR,CAFwC,uBAGjBG,IAAG,CAACM,GAAJ,YAAYQ,EAAZ,EAHiB,uCAGhCP,IAHgC,iBAGhCA,IAHgC,CAKxCH,QAAQ,CAAC,CACRC,IAAI,CAAEP,uBADE,CAERY,OAAO,CAAEH,IAFD,CAAD,CAAR,CALwC,mFAUxCH,QAAQ,CAAC,CACRC,IAAI,CAAEN,oBADE,CAERW,OAAO,CACN,aAAMC,QAAN,EAAkB,aAAMA,QAAN,CAAeJ,IAAf,CAAoBK,OAAtC,CACG,aAAMD,QAAN,CAAeJ,IAAf,CAAoBK,OADvB,CAEG,aAAMA,OALF,CAAD,CAAR,CAVwC,sEAAR,kEAA3B"},"metadata":{},"sourceType":"module"}