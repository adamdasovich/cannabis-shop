{"ast":null,"code":"import _toConsumableArray from\"C:/Projects/Travasy/proshop/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Projects/Travasy/proshop/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{Row,Col,Image,ListGroup,Card,Button,Form}from'react-bootstrap';import Rating from'../components/Rating';import{useParams}from'react-router-dom';import{listProductDetails}from'../actions/productActions';import Loader from'../components/Loader';import Message from'../components/Message';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductScreen=function ProductScreen(){var navigate=useNavigate();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var _useParams=useParams(),id=_useParams.id;var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(listProductDetails(id));},[id,dispatch]);var addToCartHandler=function addToCartHandler(){navigate(\"/cart/\".concat(id,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-light\",to:\"/\",children:\"Go \\uD83D\\uDD19 Back\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"strong\",{children:product.name})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Rating,{vaule:product.rating,text:\"\".concat(product.numReviews,\" reviews\")})}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Price: $\",product.price]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Description: \",product.description]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Price:\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",product.price]})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status:\"}),/*#__PURE__*/_jsx(Col,{children:product.countInStock>0?'In Stock':'Out of Stock'})]})}),product.countInStock>0&&/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Qty\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{onClick:addToCartHandler,className:\"btn-block\",type:\"button\",disabled:product.countInStock===0,children:\"Add to Cart\"})})]})})})]})]});};export default ProductScreen;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useDispatch","useSelector","Row","Col","Image","ListGroup","Card","Button","Form","Rating","useParams","listProductDetails","Loader","Message","ProductScreen","navigate","qty","setQty","dispatch","id","productDetails","state","loading","error","product","addToCartHandler","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"sources":["C:/Projects/Travasy/proshop/frontend/src/screens/ProductScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap'\r\nimport Rating from '../components/Rating'\r\nimport { useParams } from 'react-router-dom'\r\nimport { listProductDetails } from '../actions/productActions'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\n\r\nconst ProductScreen = () => {\r\n\tconst navigate = useNavigate()\r\n\tconst [qty, setQty] = useState(1)\r\n\tconst dispatch = useDispatch()\r\n\tconst { id } = useParams()\r\n\tconst productDetails = useSelector((state) => state.productDetails)\r\n\tconst { loading, error, product } = productDetails\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(listProductDetails(id))\r\n\t}, [id, dispatch])\r\n\r\n\tconst addToCartHandler = () => {\r\n\t\tnavigate(`/cart/${id}?qty=${qty}`)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link className='btn btn-light' to='/'>\r\n\t\t\t\tGo ðŸ”™ Back\r\n\t\t\t</Link>\r\n\t\t\t{loading ? <Loader /> : error ? <Message variant='danger'>{error}</Message> :\r\n\t\t\t\t(<Row>\r\n\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t<Image src={product.image} alt={product.name} fluid />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<strong>{product.name}</strong>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\t\t\tvaule={product.rating}\r\n\t\t\t\t\t\t\t\t\ttext={`${product.numReviews} reviews`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\tPrice: ${product.price}\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\tDescription: {product.description}\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\tPrice:\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>${product.price}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>Status:</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t{product.countInStock > 0 ? 'In Stock' : 'Out of Stock'}\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t\t\t{product.countInStock > 0 && (\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>Qty</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={qty}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setQty(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{[...Array(product.countInStock).keys()].map((x) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={x + 1} value={x + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{x + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tonClick={addToCartHandler}\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn-block'\r\n\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\tdisabled={product.countInStock === 0}\r\n\t\t\t\t\t\t\t\t\t>Add to Cart</Button>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ProductScreen"],"mappings":"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"},"metadata":{},"sourceType":"module"}